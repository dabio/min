doctype 5
html
  head
    title Compress Your Javascript
    link(rel='stylesheet', href='/css.css')

  body
    section#container
      block content

      footer by 
        a(href='http://dab.io') dab.io

    //- statistics and user interface handling
    script
      var $ = function (e) { return document.getElementById(e) }
        , input = $('input')
        , output = $('output')
        , chars = document.getElementsByClassName('chars')
        , stats = $('stats');

      input.onkeyup = function() {
        chars[0].innerHTML = input.value.length;
      };
      chars[0].innerHTML = input.value.length;

      if (output) {
        output.focus();
        output.select();
        output.onkeyup = function() {
          chars[1].innerHTML = output.value.length;
        };
        chars[1].innerHTML = output.value.length;

        var percent = 100 - Math.round(output.value.length * 100 / input.value.length)
          , saved = percent > 100 ? 'bloated' : 'saved';

        stats.innerHTML = percent + ' % ' + saved;

      } else {
        input.focus();
      }


    //- gaug.es tracking
    script
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '5081b8f7f5a1f57ab2000047');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
